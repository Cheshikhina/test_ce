"use strict";"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),function(){if("undefined"!=typeof window&&window.addEventListener){var e,t,n,y=Object.create(null),g=function(){clearTimeout(t),t=setTimeout(e,100)},w=function(){},E="http://www.w3.org/1999/xlink";e=function(){var e,t,n,o,r,s,i,a,c,d,u,l,m,p=0;function v(){var e;0==--p&&(w(),window.addEventListener("resize",g,!1),window.addEventListener("orientationchange",g,!1),w=window.MutationObserver?((e=new MutationObserver(g)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),function(){try{e.disconnect(),window.removeEventListener("resize",g,!1),window.removeEventListener("orientationchange",g,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",g,!1),function(){document.documentElement.removeEventListener("DOMSubtreeModified",g,!1),window.removeEventListener("resize",g,!1),window.removeEventListener("orientationchange",g,!1)}))}function f(e){return function(){!0!==y[e.base]&&(e.useEl.setAttributeNS(E,"xlink:href","#"+e.hash),e.useEl.hasAttribute("href")&&e.useEl.setAttribute("href","#"+e.hash))}}function h(o){return function(){var e,t=document.body,n=document.createElement("x");o.onload=null,n.innerHTML=o.responseText,(e=n.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",t.insertBefore(e,t.firstChild)),v()}}function L(e){return function(){e.onerror=null,e.ontimeout=null,v()}}for(w(),a=document.getElementsByTagName("use"),r=0;r<a.length;r+=1){try{t=a[r].getBoundingClientRect()}catch(e){t=!1}e=(i=(o=a[r].getAttribute("href")||a[r].getAttributeNS(E,"href")||a[r].getAttribute("xlink:href"))&&o.split?o.split("#"):["",""])[0],n=i[1],s=t&&0===t.left&&0===t.right&&0===t.top&&0===t.bottom,t&&0===t.width&&0===t.height&&!s?(a[r].hasAttribute("href")&&a[r].setAttributeNS(E,"xlink:href",o),e.length&&(!0!==(c=y[e])&&setTimeout(f({useEl:a[r],base:e,hash:n}),0),void 0===c&&void 0!==(d=e,m=l=u=void 0,window.XMLHttpRequest&&(u=new XMLHttpRequest,l=_(location),m=_(d),u=void 0===u.withCredentials&&""!==m&&m!==l?XDomainRequest||void 0:XMLHttpRequest),u)&&(c=new u,(y[e]=c).onload=h(c),c.onerror=L(c),c.ontimeout=L(c),c.open("GET",e),c.send(),p+=1))):s?e.length&&y[e]&&setTimeout(f({useEl:a[r],base:e,hash:n}),0):void 0===y[e]?y[e]=!0:y[e].onload&&(y[e].abort(),delete y[e].onload,y[e]=!0)}function _(e){var t;return void 0!==e.protocol?t=e:(t=document.createElement("a")).href=e,t.protocol.replace(/:/g,"")+t.host}a="",p+=1,v()},n=function(){window.removeEventListener("load",n,!1),t=setTimeout(e,0)},"complete"!==document.readyState?window.addEventListener("load",n,!1):n()}}(),function(e){if(!("content"in e.createElement("template")))for(var t,n,o,r=e.getElementsByTagName("template"),s=r.length,i=0;i<s;++i){for((n=(t=r[i]).childNodes).length,o=e.createDocumentFragment();n[0];)o.appendChild(n[0]);t.content=o}}(document),function(){var r,i=200,n="form",o="message--success",s="message--error",a="http://httpbin.org/post",t=27,e=document.querySelector(".contacts__button"),c=document.querySelector("body");function d(e){var t={};return t.popup=document.querySelector("."+e),t.main_popup=document.querySelector("."+e+" ."+n),t.success=document.querySelector("."+e+" ."+o),t.error=document.querySelector("."+e+" ."+s),t.closeBtn=document.querySelector("."+e+' button[type = "reset"]'),t.submitBtn=document.querySelector("."+e+' button[type = "submit"]'),t.form=document.querySelector("."+e+" form"),t}function u(e){var t=e.target.parentNode.querySelector("[for = "+e.target.id+"] span");if(t)return t.remove()}function l(){var e=d("modal");e.main_popup.classList.remove("modal__content--open"),e.main_popup.classList.add("modal__content--close"),e.main_popup.classList.remove("modal__content--close"),e.form.reset(),e.success.classList.add("modal__content--open");var t=e.success.querySelector(".message__btn");t.addEventListener("click",function e(){t.removeEventListener("click",e),v()})}function m(){var t=d("modal");t.main_popup.classList.remove("modal__content--open"),t.error.classList.add("modal__content--open");var n=t.error.querySelector(".message__btn"),o=t.error.querySelector(".message__close");n.addEventListener("click",function e(){t.error.classList.remove("modal__content--open"),t.main_popup.classList.add("modal__content--open"),n.removeEventListener("click",e)}),o.addEventListener("click",function e(){o.removeEventListener("click",e),t.form.reset(),v()})}function p(e){var t,n,o,r,s;e.preventDefault(),function(e){var t,n={};for(var o in n.name=e.querySelector("#your_name"),n.email=e.querySelector("#your_email"),n.message=e.querySelector("#your_message"),n){var r=document.createElement("span");r.textContent=""==(t=n[o]).value.trim()?"Fill in this field":"your_email"===t.id&&!/[-.\w]+@([\w-]+\.)+[\w-]+/g.test(t.value)&&"Enter a correct email address";var s=e.querySelector("[for = "+n[o].id+"]");"false"===r.textContent||s.querySelector("span")||s.appendChild(r)}return!e.querySelectorAll("label span").length}(e.target)&&(t=new FormData(e.target),n=l,o=m,(r=new XMLHttpRequest).responseType="json",r.addEventListener("load",function(){r.status===i?n(r.response):o("Статус ответа: "+r.status+" "+r.statusText)}),r.addEventListener("error",function(){o("Произошла ошибка соединения")}),r.addEventListener("timeout",function(){o("Запрос не успел выполниться за "+r.timeout+"мс")}),r.timeout=1e4,(s=r).open("POST",a),s.send(t))}function v(){var e=d("modal");e.popup.classList.remove("modal--open"),e.popup.classList.add("modal--close"),e.main_popup.classList.contains("modal__content--open")?(e.main_popup.classList.remove("modal__content--open"),e.main_popup.classList.add("modal__content--close")):e.success.classList.contains("modal__content--open")?(e.success.classList.remove("modal__content--open"),e.success.classList.add("modal__content--close")):e.error.classList.contains("modal__content--open")&&(e.error.classList.remove("modal__content--open"),e.error.classList.add("modal__content--close")),document.removeEventListener("click",h),document.removeEventListener("keydown",f),setTimeout(function(){document.querySelector("main").removeChild(e.popup),c.classList.remove("body_modal"),c.style.paddingRight=0,window.scrollTo(0,parseInt(r||"0",10))},750)}function f(e){e.keyCode===t&&v()}function h(e){e.target.classList.contains("modal")&&v()}e&&e.addEventListener("click",function(e){r=window.pageYOffset,e.preventDefault(),c.style.paddingRight=function(){var e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()+"px",c.style.top="-"+r+"px",c.classList.add("body_modal");var t=document.querySelector("#popup").content.querySelector(".modal").cloneNode(!0);document.querySelector("main").appendChild(t);var n=d("modal");n.popup.classList.add("modal--open"),n.main_popup.classList.add("modal__content--open");var o=n.popup.querySelectorAll("input, textarea");n.closeBtn.addEventListener("click",v),document.addEventListener("click",h),document.addEventListener("keydown",f),n.form.addEventListener("submit",p),o.forEach(function(e){e.addEventListener("input",u)})})}(),function(){function e(e){27===e.keyCode&&r()}function t(e){e.target!==o&&"BUTTON"!==e.target.tagName&&"A"!==e.target.tagName||r()}var n=document.querySelector(".header__button"),o=document.querySelector("body"),r=function(){n.classList.contains("header__button--open")?(n.classList.remove("header__button--open"),o.classList.remove("body_hidden"),document.removeEventListener("keydown",e),document.removeEventListener("mousedown",t)):(o.style.top=0,n.classList.add("header__button--open"),o.classList.add("body_hidden"),document.addEventListener("keydown",e),document.addEventListener("mousedown",t))};n&&n.addEventListener("click",r)}(),document.addEventListener("mouseup",function(e){"A"!==e.target.tagName&&"BUTTON"!==e.target.tagName||e.target.blur()});